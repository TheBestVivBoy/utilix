<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Utilix — Home</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet" />

<style>
/* your CSS untouched except mobile bits removed */
:root {
  --bg: #050114; --bg-alt: #120b2c; --fg: #f5f4ff; --fg-muted: rgba(245,244,255,0.66);
  --accent: #b266f2; --accent2: #6c3ff6; --panel: rgba(17,11,35,0.84); --panel-alt: rgba(22,15,45,0.76);
  --border: rgba(255,255,255,0.08); --border-strong: rgba(255,255,255,0.16);
  --shadow-lg: 0 22px 60px rgba(7,4,25,0.45); --shadow-sm: 0 18px 30px rgba(9,5,27,0.32);
  --radius-lg: 18px; --radius-md: 12px; --radius-sm: 8px; --transition: 220ms ease;
}
*{ box-sizing:border-box; margin:0; padding:0; }
body {
  font-family:"Inter",system-ui,-apple-system,sans-serif; background:
  radial-gradient(circle at 20% 20%,rgba(122,68,212,0.22),transparent 45%),
  radial-gradient(circle at 80% 10%,rgba(178,102,242,0.18),transparent 40%),
  var(--bg);
  color:var(--fg); min-height:100vh; display:flex; flex-direction:column;
  position:relative; overflow-x:hidden;
}
body::before{content:"";position:fixed;inset:0;background:radial-gradient(circle at 50% 0%,rgba(110,52,220,0.18),transparent 65%);pointer-events:none;z-index:0;}
a{color:inherit;text-decoration:none;transition:var(--transition);}
header{position:fixed;top:0;left:0;right:0;height:80px;padding:0 2.4rem;display:flex;align-items:center;justify-content:space-between;background:rgba(8,4,22,0.78);backdrop-filter:blur(16px);border-bottom:1px solid var(--border);box-shadow:0 12px 45px rgba(5,3,18,0.45);z-index:1200;}
.header-left{display:flex;align-items:center;gap:1.8rem;}
.logo-group{display:flex;flex-direction:column;gap:2px;}
.logo{font-size:1.45rem;font-weight:800;background:linear-gradient(90deg,var(--accent),var(--accent2));-webkit-background-clip:text;-webkit-text-fill-color:transparent;}
.logo-tagline{font-size:.75rem;letter-spacing:.18em;color:var(--fg-muted);}
.header-nav ul{display:flex;gap:1rem;list-style:none;padding:.35rem .6rem;border-radius:999px;background:rgba(255,255,255,0.04);border:1px solid var(--border);}
.header-nav a{padding:.45rem .95rem;border-radius:999px;font-weight:600;font-size:.82rem;color:var(--fg-muted);}
.header-nav a.active{background:linear-gradient(90deg,rgba(178,102,242,0.22),rgba(108,63,246,0.22));color:var(--fg);}
.auth-wrapper{display:flex;align-items:center;gap:.75rem;padding:.35rem .65rem;border-radius:999px;background:rgba(255,255,255,0.05);border:1px solid var(--border);}
.logout-btn{color:#ff7b9c;font-weight:600;font-size:.85rem;}
.discord-btn{padding:.55rem 1.15rem;border-radius:999px;background:linear-gradient(120deg,var(--accent),var(--accent2));color:#fff;font-weight:600;font-size:.85rem;box-shadow:0 12px 38px rgba(108,63,246,0.35);}
.discord-btn--ghost{background:rgba(255,255,255,0.06);border:1px solid rgba(255,255,255,0.08);}
#desktop-auth img{width:40px;height:40px;border-radius:50%;border:2px solid rgba(255,255,255,.2);}
.page{flex:1;width:min(1180px,calc(100% - 48px));margin:0 auto;padding:140px 0 72px;}
.hero{text-align:center;padding:3rem 2rem;background:var(--panel);border-radius:var(--radius-lg);border:1px solid var(--border);}
.hero h1{font-size:3.2rem;background:linear-gradient(90deg,var(--accent),var(--accent2));-webkit-background-clip:text;-webkit-text-fill-color:transparent;}
.features{display:grid;gap:1.6rem;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));}
.feature{background:var(--panel);border-radius:var(--radius-lg);padding:1.8rem;border:1px solid var(--border);box-shadow:var(--shadow-sm);}
</style>
</head>

<body>

<header>
  <div class="header-left">
    <div class="logo-group">
      <div class="logo">Utilix</div>
      <span class="logo-tagline"></span>
    </div>

    <nav class="header-nav">
      <ul>
        <li><a href="/index" class="active">Home</a></li>
        <li><a href="/setup">Setup</a></li>
        <li><a href="/faq">FAQ</a></li>
        <li><a href="/changelog">Changelog</a></li>
      </ul>
    </nav>
  </div>

  <div class="header-right">
    <div id="desktop-auth"></div>
  </div>
</header>

<div class="canvas-wrap"><canvas id="starfield"></canvas></div>

<main class="page">
  <!-- unchanged hero + features -->
  <section class="hero">
    <h1>Utilix</h1>
    <h2>Upgrade your server, elevate your community.</h2>
    <div class="hero-buttons">
      <a href="https://discord.com/oauth2/authorize?client_id=1392737327125762199&permissions=8&scope=bot%20applications.commands" class="discord-btn">Invite Bot</a>
      <a href="https://discord.gg/support-server" class="discord-btn discord-btn--ghost">Join Support</a>
    </div>
  </section>
</main>

<script>
// starfield & loading remain the same...

// ✅ Desktop-only auth UI
async function updateAuthUI() {
  const desktopAuth = document.getElementById("desktop-auth");

  try {
    const r = await fetch("/me");
    const data = await r.json();

    if (!data.loggedIn) {
      desktopAuth.innerHTML =
        `<a href="/login" class="discord-btn">Log in with Discord</a>`;
      return;
    }

    const u = data.user;
    const av = u.avatar
      ? `https://cdn.discordapp.com/avatars/${u.id}/${u.avatar}.${u.avatar.startsWith("a_") ? "gif" : "png"}`
      : `https://cdn.discordapp.com/embed/avatars/${u.discriminator % 5}.png`;

    desktopAuth.innerHTML = `
      <a href="/dashboard" class="discord-btn discord-btn--ghost">Dashboard</a>
      <a href="/invite" class="discord-btn">Add Bot</a>
      <div class="auth-wrapper">
        <img src="${av}">
        <span class="user-display">${u.username}#${u.discriminator}</span>
        <a href="/logout" class="logout-btn">Logout</a>
      </div>`;
  } catch (e) {
    desktopAuth.innerHTML =
      `<a href="/login" class="discord-btn">Log in with Discord</a>`;
  }
}
updateAuthUI();
</script>

</body>
</html>
